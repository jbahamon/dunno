<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
<head>
    <title>Reference</title>
    <link rel="stylesheet" href="../ldoc.css" type="text/css" />
</head>
<body>

<div id="container">

<div id="product">
	<div id="product_logo"></div>
	<div id="product_name"><big><b></b></big></div>
	<div id="product_description"></div>
</div> <!-- id="product" -->


<div id="main">


<!-- Menu -->

<div id="navigation">
<br/>
<h1>Dunno</h1>

<ul>
  <li><a href="../index.html">Index</a></li>
</ul>

<h2>Contents</h2>
<ul>
<li><a href="#Functions">Functions</a></li>
<li><a href="#Class_Stage">Class Stage</a></li>
<li><a href="#Size_and_Position">Size and Position</a></li>
<li><a href="#Room_Handling">Room Handling</a></li>
<li><a href="#Map__layers_and_tiles">Map, layers and tiles</a></li>
<li><a href="#Camera_and_drawing">Camera and drawing</a></li>
</ul>


<h2>Modules</h2>
<ul>
  <li><a href="../modules/data.core.Element.html">data.core.Element</a></li>
  <li><a href="../modules/data.core.Element.ElementState.html">data.core.Element.ElementState</a></li>
  <li><a href="../modules/data.core.ElementFactory.html">data.core.ElementFactory</a></li>
  <li><a href="../modules/data.core.Player.html">data.core.Player</a></li>
  <li><a href="../modules/data.core.Player.PlayerState.html">data.core.Player.PlayerState</a></li>
  <li><strong>data.core.Stage</strong></li>
  <li><a href="../modules/data.core.StateMachine.html">data.core.StateMachine</a></li>
  <li><a href="../modules/data.core.StateMachine.State.html">data.core.StateMachine.State</a></li>
  <li><a href="../modules/data.core.WorldManager.html">data.core.WorldManager</a></li>
  <li><a href="../modules/lib.GeometryUtils.html">lib.GeometryUtils</a></li>
  <li><a href="../modules/lib.TileCollider.html">lib.TileCollider</a></li>
  <li><a href="../modules/main.html">main</a></li>
</ul>

</div>

<div id="content">

<h1>Module <code>data.core.Stage</code></h1>

<p>State machine implementation.</p>
<p>

</p>


<h2><a href="#Functions">Functions</a></h2>
<table class="function_list">
	<tr>
	<td class="name" nowrap><a href="#Stage">Stage&nbsp;(mapPath)</a></td>
	<td class="summary">Builds a new empty Stage, given the stage's map file.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#loadFromFolder">loadFromFolder&nbsp;(folderName)</a></td>
	<td class="summary">Builds and returns a new stage from a folder.</td>
	</tr>
</table>
<h2><a href="#Class_Stage">Class Stage</a></h2>
<table class="function_list">
	<tr>
	<td class="name" nowrap><a href="#Stage:moveTo">Stage:moveTo&nbsp;(newPosition)</a></td>
	<td class="summary">Centers the map's view in a given position.</td>
	</tr>
</table>
<h2><a href="#Size_and_Position">Size and Position</a></h2>
<table class="function_list">
	<tr>
	<td class="name" nowrap><a href="#Stage:getTension">Stage:getTension&nbsp;()</a></td>
	<td class="summary">Retrieves the Stage's camera tension setting.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#Stage:setFolder">Stage:setFolder&nbsp;(path)</a></td>
	<td class="summary">Sets the Stage's base folder for loading sprites and other files.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#Stage:getFolder">Stage:getFolder&nbsp;()</a></td>
	<td class="summary">Returns the Stage's base folder for loading sprites and other files.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#Stage:setStartingPosition">Stage:setStartingPosition&nbsp;(position)</a></td>
	<td class="summary">Sets the Stage's starting position.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#Stage:getStartingPosition">Stage:getStartingPosition&nbsp;()</a></td>
	<td class="summary">Returns the Stage's starting position.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#Stage:getPixelStartingPosition">Stage:getPixelStartingPosition&nbsp;()</a></td>
	<td class="summary">Returns the Stage's starting position, in pixel coordinates.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#Stage:getPixelStartingFocus">Stage:getPixelStartingFocus&nbsp;()</a></td>
	<td class="summary">Returns the camera's starting center for the stage..</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#Stage:getPixelSize">Stage:getPixelSize&nbsp;()</a></td>
	<td class="summary">Returns the Stage's size.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#Stage:getTileSize">Stage:getTileSize&nbsp;()</a></td>
	<td class="summary">Returns the Stage's tile size.</td>
	</tr>
</table>
<h2><a href="#Room_Handling">Room Handling</a></h2>
<table class="function_list">
	<tr>
	<td class="name" nowrap><a href="#Stage:addRoom">Stage:addRoom&nbsp;(roomParams)</a></td>
	<td class="summary">Adds a new room to the Stage.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#Stage:getRoom">Stage:getRoom&nbsp;()</a></td>
	<td class="summary">Returns the Stage's current room.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#Stage:getRoomAt">Stage:getRoomAt&nbsp;(position)</a></td>
	<td class="summary">Returns the Stage's room at a specified point, in pixels.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#Stage:getCollidingRooms">Stage:getCollidingRooms&nbsp;(element)</a></td>
	<td class="summary">Returns the Stage's rooms that collide with a given Element.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#Stage:checkRoomChange">Stage:checkRoomChange&nbsp;(element)</a></td>
	<td class="summary">Checks if a given element is going from one room to another.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#Stage:setRoom">Stage:setRoom&nbsp;(room)</a></td>
	<td class="summary">Sets the Stage's current room.</td>
	</tr>
</table>
<h2><a href="#Map__layers_and_tiles">Map, layers and tiles</a></h2>
<table class="function_list">
	<tr>
	<td class="name" nowrap><a href="#Stage:setMap">Stage:setMap&nbsp;(mapPath)</a></td>
	<td class="summary">Loads the Stage's map, given a path to its folder.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#Stage:getLayer">Stage:getLayer&nbsp;(layerName)</a></td>
	<td class="summary">Returns a given layer from the Stage's map, or nil if it doesn't exist.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#Stage:getTilesAt">Stage:getTilesAt&nbsp;(layer, minX, minY, width, height)</a></td>
	<td class="summary">Returns all tiles that touch a given rectangle.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#Stage:getElementsLayer">Stage:getElementsLayer&nbsp;()</a></td>
	<td class="summary">Returns the Stage's element layer.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#Stage:getCollidableLayer">Stage:getCollidableLayer&nbsp;()</a></td>
	<td class="summary">Returns the Stage's collidable layer.</td>
	</tr>
</table>
<h2><a href="#Camera_and_drawing">Camera and drawing</a></h2>
<table class="function_list">
	<tr>
	<td class="name" nowrap><a href="#Stage:getCameraMode">Stage:getCameraMode&nbsp;()</a></td>
	<td class="summary">Returns the current camera mode for the Stage.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#Stage:getBounds">Stage:getBounds&nbsp;()</a></td>
	<td class="summary">Returns the current bounds of the Stage, for camera purposes.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#Stage:draw">Stage:draw&nbsp;()</a></td>
	<td class="summary">Draws the Stage.</td>
	</tr>
</table>

<br/>
<br/>


    <h2><a name="Functions"></a>Functions</h2>
    <dl class="function">
    <dt>
    <a name = "Stage"></a>
    <strong>Stage&nbsp;(mapPath)</strong>
    </dt>
    <dd>
    Builds a new empty Stage, given the stage's map file.

    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">mapPath</span>
         The path to the map file.</li>
    </ul>

    <h3>Returns:</h3>
    <ol>

        The newly created Stage.
    </ol>




</dd>
    <dt>
    <a name = "loadFromFolder"></a>
    <strong>loadFromFolder&nbsp;(folderName)</strong>
    </dt>
    <dd>
    Builds and returns a new stage from a folder.

    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">folderName</span>
         The folder from which to load the stage.</li>
    </ul>

    <h3>Returns:</h3>
    <ol>

        The newly created Stage.
    </ol>




</dd>
</dl>
    <h2><a name="Class_Stage"></a>Class Stage</h2>
        Class that represents the stage (platforms, static elements, etc) where the elements live and interact.
 Also includes some camera settings.
    <dl class="function">
    <dt>
    <a name = "Stage:moveTo"></a>
    <strong>Stage:moveTo&nbsp;(newPosition)</strong>
    </dt>
    <dd>
    Centers the map's view in a given position.
 This means the stage's drar method will center itself in the given coordinates.

    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">newPosition</span>
         The new center, as a vector, in pixels.</li>
    </ul>





</dd>
</dl>
    <h2><a name="Size_and_Position"></a>Size and Position</h2>
        Size and Position
    <dl class="function">
    <dt>
    <a name = "Stage:getTension"></a>
    <strong>Stage:getTension&nbsp;()</strong>
    </dt>
    <dd>
    Retrieves the Stage's camera tension setting.


    <h3>Returns:</h3>
    <ol>

        A vector containing the stage's camera tension.
    </ol>




</dd>
    <dt>
    <a name = "Stage:setFolder"></a>
    <strong>Stage:setFolder&nbsp;(path)</strong>
    </dt>
    <dd>
    Sets the Stage's base folder for loading sprites and other files.

    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">path</span>
         The Stage's base path.</li>
    </ul>





</dd>
    <dt>
    <a name = "Stage:getFolder"></a>
    <strong>Stage:getFolder&nbsp;()</strong>
    </dt>
    <dd>
    Returns the Stage's base folder for loading sprites and other files.


    <h3>Returns:</h3>
    <ol>

        The Stage's base path.
    </ol>




</dd>
    <dt>
    <a name = "Stage:setStartingPosition"></a>
    <strong>Stage:setStartingPosition&nbsp;(position)</strong>
    </dt>
    <dd>
    Sets the Stage's starting position.

    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">position</span>
         The new starting position for the Stage, as a vector, in tile coordinates.</li>
    </ul>





</dd>
    <dt>
    <a name = "Stage:getStartingPosition"></a>
    <strong>Stage:getStartingPosition&nbsp;()</strong>
    </dt>
    <dd>
    Returns the Stage's starting position.


    <h3>Returns:</h3>
    <ol>

        The Stage's starting position, as a vector, in tile coordinates.
    </ol>




</dd>
    <dt>
    <a name = "Stage:getPixelStartingPosition"></a>
    <strong>Stage:getPixelStartingPosition&nbsp;()</strong>
    </dt>
    <dd>
    Returns the Stage's starting position, in pixel coordinates.


    <h3>Returns:</h3>
    <ol>

        The starting position for the Stage, as a vector, in pixels.
    </ol>




</dd>
    <dt>
    <a name = "Stage:getPixelStartingFocus"></a>
    <strong>Stage:getPixelStartingFocus&nbsp;()</strong>
    </dt>
    <dd>
    Returns the camera's starting center for the stage..


    <h3>Returns:</h3>
    <ol>

        The camera's starting position for the Stage, as a vector, in pixels.
    </ol>




</dd>
    <dt>
    <a name = "Stage:getPixelSize"></a>
    <strong>Stage:getPixelSize&nbsp;()</strong>
    </dt>
    <dd>
    Returns the Stage's size.


    <h3>Returns:</h3>
    <ol>

        The Stage's size, as a vector, in pixels.
    </ol>




</dd>
    <dt>
    <a name = "Stage:getTileSize"></a>
    <strong>Stage:getTileSize&nbsp;()</strong>
    </dt>
    <dd>
    Returns the Stage's tile size.


    <h3>Returns:</h3>
    <ol>

        The Stage's tile size, as a vector, in pixels.
    </ol>




</dd>
</dl>
    <h2><a name="Room_Handling"></a>Room Handling</h2>
        Room Handling
    <dl class="function">
    <dt>
    <a name = "Stage:addRoom"></a>
    <strong>Stage:addRoom&nbsp;(roomParams)</strong>
    </dt>
    <dd>
    Adds a new room to the Stage.  Do not reuse the parameter table passed to this function.
 A room includes a <a href="http://vrld.github.com/HardonCollider/">HardonCollider</a> shape (a rectangle, as room.box) that represents the room and a tags dictionary.
 tile coordinates as topLeft and bottomRight fields. Any other field will be preserved.

    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">roomParams</span>
         The room's parameters. It must include the room's top left and bottom right </li>
    </ul>





</dd>
    <dt>
    <a name = "Stage:getRoom"></a>
    <strong>Stage:getRoom&nbsp;()</strong>
    </dt>
    <dd>
    Returns the Stage's current room.


    <h3>Returns:</h3>
    <ol>

        The Stage's current room.
    </ol>




</dd>
    <dt>
    <a name = "Stage:getRoomAt"></a>
    <strong>Stage:getRoomAt&nbsp;(position)</strong>
    </dt>
    <dd>
    Returns the Stage's room at a specified point, in pixels.

    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">position</span>


</li>
    </ul>

    <h3>Returns:</h3>
    <ol>

        The Stage's room containing the point, or the Stage's default room.
    </ol>




</dd>
    <dt>
    <a name = "Stage:getCollidingRooms"></a>
    <strong>Stage:getCollidingRooms&nbsp;(element)</strong>
    </dt>
    <dd>
    Returns the Stage's rooms that collide with a given Element.

    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">element</span>
         The Element to test for collisions.</li>
    </ul>

    <h3>Returns:</h3>
    <ol>

        An array containing the rooms that the Element is touching.
    </ol>




</dd>
    <dt>
    <a name = "Stage:checkRoomChange"></a>
    <strong>Stage:checkRoomChange&nbsp;(element)</strong>
    </dt>
    <dd>
    Checks if a given element is going from one room to another. <br/>
 If so, selects the one most probable for transition (based on contact area)
 and returns a room change parameter table, including two fields: previousRoom and nextRoom.

    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">element</span>


</li>
    </ul>

    <h3>Returns:</h3>
    <ol>

        The Stage's current room.
    </ol>




</dd>
    <dt>
    <a name = "Stage:setRoom"></a>
    <strong>Stage:setRoom&nbsp;(room)</strong>
    </dt>
    <dd>
    Sets the Stage's current room.

    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">room</span>
         The room to set as the current room.</li>
    </ul>





</dd>
</dl>
    <h2><a name="Map__layers_and_tiles"></a>Map, layers and tiles</h2>
        Map, layers and tiles
    <dl class="function">
    <dt>
    <a name = "Stage:setMap"></a>
    <strong>Stage:setMap&nbsp;(mapPath)</strong>
    </dt>
    <dd>
    Loads the Stage's map, given a path to its folder.

    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">mapPath</span>
         The Stage's map subfolder. The base folder is always "stages/".</li>
    </ul>





</dd>
    <dt>
    <a name = "Stage:getLayer"></a>
    <strong>Stage:getLayer&nbsp;(layerName)</strong>
    </dt>
    <dd>
    Returns a given layer from the Stage's map, or nil if it doesn't exist.

    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">layerName</span>
         The layer's name.</li>
    </ul>

    <h3>Returns:</h3>
    <ol>

        The layer, as a     <a href="https://github.com/Kadoba/Advanced-Tiled-Loader/wiki">Advanced-Tiled-Loader</a> layer.
    </ol>




</dd>
    <dt>
    <a name = "Stage:getTilesAt"></a>
    <strong>Stage:getTilesAt&nbsp;(layer, minX, minY, width, height)</strong>
    </dt>
    <dd>
    Returns all tiles that touch a given rectangle.
 tile is the tile element that touches the rectangle; x and y indicate the tile's position, measured in tiles.

    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">layer</span>
         The <a href="https://github.com/Kadoba/Advanced-Tiled-Loader/wiki">Advanced-Tiled-Liader</a> layer to check.</li>
        <li><span class="parameter">minX</span>
         The horizontal coordinate of the upper left corner of the rectangle, in pixels.</li>
        <li><span class="parameter">minY</span>
         The vertical coordinate of the upper left corner of the rectangle, in pixels.</li>
        <li><span class="parameter">width</span>
         The width of the rectangle, in pixels.</li>
        <li><span class="parameter">height</span>
         The height of the rectangle, in pixels.</li>
    </ul>

    <h3>Returns:</h3>
    <ol>

        An iterator that allows traversal over all tiles that touch the given rectangle by means of three variables: x, y and tile.
    </ol>




</dd>
    <dt>
    <a name = "Stage:getElementsLayer"></a>
    <strong>Stage:getElementsLayer&nbsp;()</strong>
    </dt>
    <dd>
    Returns the Stage's element layer.  Used to generate enemies and other stage elements.


    <h3>Returns:</h3>
    <ol>

        The elements layer, as a <a href="https://github.com/Kadoba/Advanced-Tiled-Loader/wiki">Advanced-Tiled-Loader</a> ObjectLayer.
    </ol>




</dd>
    <dt>
    <a name = "Stage:getCollidableLayer"></a>
    <strong>Stage:getCollidableLayer&nbsp;()</strong>
    </dt>
    <dd>
    Returns the Stage's collidable layer.  Used for tile collisions.


    <h3>Returns:</h3>
    <ol>

        The collidable layer, as a <a href="https://github.com/Kadoba/Advanced-Tiled-Loader/wiki">Advanced-Tiled-Loader</a> TileLayer.
    </ol>




</dd>
</dl>
    <h2><a name="Camera_and_drawing"></a>Camera and drawing</h2>
        Camera and drawing
    <dl class="function">
    <dt>
    <a name = "Stage:getCameraMode"></a>
    <strong>Stage:getCameraMode&nbsp;()</strong>
    </dt>
    <dd>
    Returns the current camera mode for the Stage.


    <h3>Returns:</h3>
    <ol>

        The current camera mode, as a string.
    </ol>




</dd>
    <dt>
    <a name = "Stage:getBounds"></a>
    <strong>Stage:getBounds&nbsp;()</strong>
    </dt>
    <dd>
    Returns the current bounds of the Stage, for camera purposes.
 left and bottom right of the Stage's visible area.


    <h3>Returns:</h3>
    <ol>

        x1, y1, x2, y2 The current bounds, as defined by the top
    </ol>




</dd>
    <dt>
    <a name = "Stage:draw"></a>
    <strong>Stage:draw&nbsp;()</strong>
    </dt>
    <dd>
    Draws the Stage.






</dd>
</dl>


</div> <!-- id="content" -->
</div> <!-- id="main" -->
<div id="about">
<i>generated by <a href="http://github.com/stevedonovan/LDoc">LDoc 1.3</a></i>
</div> <!-- id="about" -->
</div> <!-- id="container" -->
</body>
</html>
