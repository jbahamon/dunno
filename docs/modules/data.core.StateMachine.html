<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
<head>
    <title>Reference</title>
    <link rel="stylesheet" href="../ldoc.css" type="text/css" />
</head>
<body>

<div id="container">

<div id="product">
	<div id="product_logo"></div>
	<div id="product_name"><big><b></b></big></div>
	<div id="product_description"></div>
</div> <!-- id="product" -->


<div id="main">


<!-- Menu -->

<div id="navigation">
<br/>
<h1>Dunno</h1>

<ul>
  <li><a href="../index.html">Index</a></li>
</ul>

<h2>Contents</h2>
<ul>
<li><a href="#Functions">Functions</a></li>
<li><a href="#Class_StateMachine">Class StateMachine</a></li>
</ul>


<h2>Modules</h2>
<ul>
  <li><a href="../modules/data.core.Element.html">data.core.Element</a></li>
  <li><strong>data.core.StateMachine</strong></li>
  <li><a href="../modules/data.core.StateMachine.State.html">data.core.StateMachine.State</a></li>
  <li><a href="../modules/main.html">main</a></li>
</ul>

</div>

<div id="content">

<h1>Module <code>data.core.StateMachine</code></h1>

<p>State machine implementation.</p>
<p></p>


<h2><a href="#Functions">Functions</a></h2>
<table class="function_list">
	<tr>
	<td class="name" nowrap><a href="#StateMachine">StateMachine&nbsp;()</a></td>
	<td class="summary">Builds a new StateMachine with no states.</td>
	</tr>
</table>
<h2><a href="#Class_StateMachine">Class StateMachine</a></h2>
<table class="function_list">
	<tr>
	<td class="name" nowrap><a href="#StateMachine:getStateFlags">StateMachine:getStateFlags&nbsp;()</a></td>
	<td class="summary">Retrieves the current state's flags.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#StateMachine:update">StateMachine:update&nbsp;(dt)</a></td>
	<td class="summary">Updates the StateMachine.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#StateMachine:checkStateChange">StateMachine:checkStateChange&nbsp;()</a></td>
	<td class="summary">Checks for conditions and executes any possible state change.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#StateMachine:changeToState">StateMachine:changeToState&nbsp;(nextState)</a></td>
	<td class="summary">Executes a transition to a specified state.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#StateMachine:addState">StateMachine:addState&nbsp;(state)</a></td>
	<td class="summary">Adds a state to the StateMachine.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#StateMachine:removeState">StateMachine:removeState&nbsp;(stateName)</a></td>
	<td class="summary">Removes a state from the StateMachine, leaving it with no owner.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#StateMachine:setInitialState">StateMachine:setInitialState&nbsp;(stateName)</a></td>
	<td class="summary">Sets the StateMachine's initial stat</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#StateMachine:getInitialState">StateMachine:getInitialState&nbsp;()</a></td>
	<td class="summary">Returns the StateMachine's initial state</td>
	</tr>
</table>

<br/>
<br/>


    <h2><a name="Functions"></a>Functions</h2>
    <dl class="function">
    <dt>
    <a name = "StateMachine"></a>
    <strong>StateMachine&nbsp;()</strong>
    </dt>
    <dd>
    Builds a new StateMachine with no states.


    <h3>Returns:</h3>
    <ol>

        The newly created StateMachine.
    </ol>




</dd>
</dl>
    <h2><a name="Class_StateMachine"></a>Class StateMachine</h2>
        A state machine implementation.
 It is the base for all elements (player, enemy and neutral) in the game.
 Can also be used for non-element behavior.
    <dl class="function">
    <dt>
    <a name = "StateMachine:getStateFlags"></a>
    <strong>StateMachine:getStateFlags&nbsp;()</strong>
    </dt>
    <dd>
    Retrieves the current state's flags.


    <h3>Returns:</h3>
    <ol>

        The current state's flag table.
    </ol>



    <h3>Usage:</h3>
    <ul>
        <pre class="example"><span class="keyword">local</span> foo = machine:getStateFlags()
<span class="global">assert</span>(foo[<span class="string">"someStateFlag"</span>], <span class="string">"The state flag is not set"</span>)</pre>
    </ul>

</dd>
    <dt>
    <a name = "StateMachine:update"></a>
    <strong>StateMachine:update&nbsp;(dt)</strong>
    </dt>
    <dd>
    Updates the StateMachine.

    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">dt</span>
         Time since the last update, in seconds.</li>
    </ul>





</dd>
    <dt>
    <a name = "StateMachine:checkStateChange"></a>
    <strong>StateMachine:checkStateChange&nbsp;()</strong>
    </dt>
    <dd>
    Checks for conditions and executes any possible state change.
 If two or more transitions are possible, the one with higher priority
 is taken (or the one that was added first, if there is more than one transition with the
 same priority). State transition conditions take a single argument: the current
 state.






</dd>
    <dt>
    <a name = "StateMachine:changeToState"></a>
    <strong>StateMachine:changeToState&nbsp;(nextState)</strong>
    </dt>
    <dd>
    Executes a transition to a specified state.
 The current state's onExitTo and the target state's onEnterFrom
 are executed, if found.

    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">nextState</span>
         The target state.</li>
    </ul>





</dd>
    <dt>
    <a name = "StateMachine:addState"></a>
    <strong>StateMachine:addState&nbsp;(state)</strong>
    </dt>
    <dd>
    Adds a state to the StateMachine.
 A state can only belong to a single StateMachine at a time: it should not belong
 to another StateMachine when this method is called.
 Call removeState on the other StateMachine first.

    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">state</span>
         The state to be added.</li>
    </ul>





</dd>
    <dt>
    <a name = "StateMachine:removeState"></a>
    <strong>StateMachine:removeState&nbsp;(stateName)</strong>
    </dt>
    <dd>
    Removes a state from the StateMachine, leaving it with no owner.

    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">stateName</span>
         The name of the state to be removed. If there is no state with such name in the StateMachine, nothing is done.</li>
    </ul>





</dd>
    <dt>
    <a name = "StateMachine:setInitialState"></a>
    <strong>StateMachine:setInitialState&nbsp;(stateName)</strong>
    </dt>
    <dd>
    Sets the StateMachine's initial stat
 There must be a state with this name in the StateMachine, or an error will be raised.

    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">stateName</span>
         The name of the state to be set as the StateMachine's initial state.</li>
    </ul>





</dd>
    <dt>
    <a name = "StateMachine:getInitialState"></a>
    <strong>StateMachine:getInitialState&nbsp;()</strong>
    </dt>
    <dd>
    Returns the StateMachine's initial state


    <h3>Returns:</h3>
    <ol>

        The StateMachine's initial state.
    </ol>




</dd>
</dl>


</div> <!-- id="content" -->
</div> <!-- id="main" -->
<div id="about">
<i>generated by <a href="http://github.com/stevedonovan/LDoc">LDoc 1.3</a></i>
</div> <!-- id="about" -->
</div> <!-- id="container" -->
</body>
</html>
